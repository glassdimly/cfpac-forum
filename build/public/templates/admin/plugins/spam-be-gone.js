!function(e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){return function(e,r,t,n,a){return'<h1><i class="fa '+e.__escape(t(r&&r.faIcon))+'"></i> '+e.__escape(t(r&&r.name))+"</h1>\r\n<style>\r\n   ."+e.__escape(t(r&&r.nbbId))+"-settings .checkbox>label.section-title {\r\n    font-size: 24px;\r\n   }\r\n   ."+e.__escape(t(r&&r.nbbId))+'-settings .checkbox>label>input[data-toggle-target] {\r\n    margin-bottom: 0;\r\n   }\r\n</style>\r\n<form role="form" class="'+e.__escape(t(r&&r.nbbId))+'-settings">\r\n   <fieldset>\r\n      <div class="row">\r\n         <div class="col-sm-12">\r\n            <div class="checkbox">\r\n               <label class="section-title">\r\n               <input data-toggle-target="#akismetApiKey,#akismetMinReputationHam,#akismetFlagReporting" type="checkbox" id="akismetEnabled" name="akismetEnabled"/>\r\n               Enable Akismet\r\n               </label>\r\n            </div>\r\n            <p class="help-block">To check every user post. Get yours from\r\n               <a target="_blank" href="http://akismet.com/">akismet.com</a>\r\n            </p>\r\n            <div class="form-group">\r\n               <label for="akismetApiKey">Akismet API Key</label>\r\n               <input placeholder="Akismet API Key here" type="text" class="form-control" id="akismetApiKey" name="akismetApiKey"/>\r\n            </div>\r\n            <div class="form-group">\r\n               <label for="akismetMinReputationHam">HAM Minimum Reputation</label>\r\n               <input placeholder="10" type="number" class="form-control" id="akismetMinReputationHam" name="akismetMinReputationHam"/>\r\n            </div>\r\n            <p class="help-block">Minimum reputation level to classify flagged posts as false positives (HAM). Posts made by users with at least this level reputation will never be flagged as spam.</p>\r\n            <div class="form-group">\r\n               <label for="akismetFlagReporting">Flagging Minimum Reputation</label>\r\n               <input placeholder="5" type="text" class="form-control" id="akismetFlagReporting" name="akismetFlagReporting"/>\r\n            </div>\r\n            <p class="help-block">Allow users with minimum reputation of X to submit posts to Akismet as spam via flagging (leave blank to disable)</p>\r\n            <hr />\r\n            <div class="checkbox">\r\n               <label class="section-title">\r\n               <input data-toggle-target="#honeypotApiKey" type="checkbox" id="honeypotEnabled" name="honeypotEnabled"/> Enable Honeypot\r\n               </label>\r\n            </div>\r\n            <p class="help-block">To check every user registration. Get yours from\r\n               <a target="_blank" href="http://www.projecthoneypot.org/">projecthoneypot.org</a>\r\n            </p>\r\n            <div class="form-group">\r\n               <label for="honeypotApiKey">Honeypot API Key</label>\r\n               <input placeholder="Honeypot API Key here" type="text" class="form-control" id="honeypotApiKey" name="honeypotApiKey"/>\r\n            </div>\r\n            <hr />\r\n            <div class="checkbox">\r\n               <label class="section-title">\r\n               <input data-toggle-target="#recaptchaPublicKey,#recaptchaPrivateKey,#loginRecaptchaEnabled" type="checkbox" id="recaptchaEnabled" name="recaptchaEnabled"/> Enable Re-Captcha\r\n               </label>\r\n            </div>\r\n            <p class="help-block">To check every user registration. You need a private and a public key, get yours from\r\n               <a target="_blank" href="http://www.google.com/recaptcha">google.com/recaptcha</a>\r\n            </p>\r\n            <div class="form-inline">\r\n               <div class="form-group" style="width:45%;">\r\n                  <label for="recaptchaPublicKey">Re-Captcha Public API Key</label>\r\n                  <input placeholder="Public API Key here" type="text" class="recaptchaKey form-control" id="recaptchaPublicKey" name="recaptchaPublicKey"/>\r\n               </div>\r\n               <div class="form-group" style="width:45%;">\r\n                  <label for="recaptchaPrivateKey">Re-Captcha Private API Key</label>\r\n                  <input placeholder="Private (Secret) API Key here" type="text" class="recaptchaKey form-control" id="recaptchaPrivateKey" name="recaptchaPrivateKey"/>\r\n               </div>\r\n            </div>\r\n            <p class="help-block">\r\n               Keep your private key private\r\n            </p>\r\n            <div class="checkbox">\r\n               <label>\r\n               <input type="checkbox" id="loginRecaptchaEnabled" name="loginRecaptchaEnabled"/>\r\n                <small>Enable Re-Captcha on login page as well</small>\r\n               </label>\r\n            </div>\r\n            <hr />\r\n            <div class="checkbox">\r\n               <label class="section-title">\r\n               <input data-toggle-target="#stopforumspamApiKey" type="checkbox" id="stopforumspamEnabled" name="stopforumspamEnabled"/> Enable StopForumSpam\r\n               </label>\r\n            </div>\r\n            <p class="help-block">\r\n               To report a user you need an API key, get yours from <a target="_blank" href="https://www.stopforumspam.com/keys">stopforumspam.com/keys</a>\r\n            </p>\r\n            <div class="form-group" style="width:45%;">\r\n               <label for="stopforumspamApiKey">StopForumSpam API Key</label>\r\n               <input placeholder="API key here" type="text" class="stopforumspamApiKey form-control" id="stopforumspamApiKey" name="stopforumspamApiKey"/>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <hr/>\r\n      <button class="btn btn-lg btn-primary" id="save" type="button">Save</button>\r\n      <p class="help-block">\r\n         This plugin uses\r\n         <a target="_blank" href="https://github.com/julianlam/project-honeypot">project-honeypot</a>,\r\n         <a target="_blank" href="https://github.com/deltreey/stopforumspam">stopforumspam</a>,\r\n         <a target="_blank" href="https://github.com/oozcitak/akismet-js">akismet-js</a>,\r\n         and <a target="_blank" href="https://github.com/zeMirco/simple-recaptcha">simple-recaptcha</a>\r\n         <br/>\r\n         File issues, pull requests or ideas at the\r\n         <a target="_blank" href="https://github.com/akhoury/nodebb-plugin-spam-be-gone">github repo</a>\r\n      </p>\r\n   </fieldset>\r\n</form>\r\n<script type="text/javascript">\r\n   require([\'settings\'], function(Settings) {\r\n     var nbbId = \''+e.__escape(t(r&&r.nbbId))+"',\r\n     klass = nbbId + '-settings',\r\n     wrapper = $( '.' + klass );\r\n\r\n     function onChange (e) {\r\n       var target = $(e.target);\r\n       var input = wrapper.find(target.attr('data-toggle-target'));\r\n       if (target.is(':checked')) {\r\n         input.prop('disabled', false);\r\n       } else {\r\n         input.prop('disabled', true);\r\n       }\r\n     }\r\n\r\n     wrapper.find('input[type=\"checkbox\"].section-title').on('change', onChange);\r\n\r\n     Settings.load(nbbId, wrapper, function() {\r\n       wrapper.find('input[type=\"checkbox\"].section-title').each(function() {\r\n         onChange({target: this});\r\n       });\r\n     });\r\n\r\n     wrapper.find('#save').on('click', function(e) {\r\n       e.preventDefault();\r\n       wrapper.find('.form-group').removeClass('has-error');\r\n\r\n       var invalidSelector = '';\r\n       var invalidCount = 0;\r\n       wrapper.find('input[type=\"checkbox\"].section-title').each(function(i, checkbox) {\r\n         checkbox = $(checkbox);\r\n         if (checkbox.is(':checked') && !wrapper.find(checkbox.attr('data-toggle-target')).val()) {\r\n           invalidSelector += (!invalidCount++ ? '' : ', ') + checkbox.attr('data-toggle-target');\r\n         }\r\n       });\r\n\r\n       if (invalidSelector) {\r\n         wrapper.find(invalidSelector).each(function(i, el) {\r\n           el = $(el);\r\n           el.parents('.form-group').addClass('has-error');\r\n         });\r\n       } else {\r\n         Settings.save(nbbId, wrapper, function() {\r\n           app.alert({\r\n             type: 'success',\r\n             alert_id: nbbId,\r\n             title: 'Reload Required',\r\n             message: 'Please reload your NodeBB to have your changes take effect',\r\n             clickfn: function() {\r\n               socket.emit('admin.reload');\r\n             }\r\n           });\r\n         });\r\n       }\r\n     });\r\n   });\r\n<\/script>\r\n"}});