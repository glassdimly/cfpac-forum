!function(r){"object"==typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd&&define(r)}(function(){function o(s,e,t,r,n){return'<li component="chat/recent/room" data-roomid="'+s.__escape(t(e&&e.rooms&&e.rooms.roomId))+'" class="'+(t(e&&e.rooms&&e.rooms.unread)?"unread":"")+'">\r\n\t<strong class="room-name">\r\n\t\t'+(t(e&&e.rooms&&e.rooms.lastUser&&e.rooms.lastUser.uid)?'\r\n\t\t<span component="chat/title">'+(t(e&&e.rooms&&e.rooms.roomName)?s.__escape(t(e&&e.rooms&&e.rooms.roomName)):s.__escape(t(e&&e.rooms&&e.rooms.usernames)))+"</span>\r\n\t\t":"\r\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\r\n\t\t")+'\r\n\t</strong>\r\n\t<div class="avatar-placeholder"></div>\r\n\t'+r(t(e&&e.rooms&&e.rooms.users),function(r,o){return"\r\n\t"+(0===o?'\r\n\t<div class="main-avatar">\r\n\t\t<a href="'+s.__escape(t(e&&e.config&&e.config.relative_path))+"/user/"+s.__escape(t(e&&e.rooms&&e.rooms.users&&e.rooms.users[r]&&e.rooms.users[r].userslug))+'">'+s.__escape(n(e,s,"buildAvatar",[t(e&&e.rooms&&e.rooms.users&&e.rooms.users[r]),"sm",t(e&&e.true)]))+"</a>\r\n\t</div>\r\n\t":"")+"\r\n\t"})+'\r\n\r\n\t<ul class="members">\r\n\t\t'+o.blocks["rooms.users"](s,e,t,r,n)+"\r\n\t</ul>\r\n</li>"}return o.blocks={"rooms.users":function(o,s,e,r,t){return r(e(s&&s.rooms&&s.rooms.users),function(r){return'\r\n\t\t<li>\r\n\t\t\t<a href="'+o.__escape(e(s&&s.config&&s.config.relative_path))+"/user/"+o.__escape(e(s&&s.rooms&&s.rooms.users&&s.rooms.users[r]&&s.rooms.users[r].userslug))+'">'+o.__escape(t(s,o,"buildAvatar",[e(s&&s.rooms&&s.rooms.users&&s.rooms.users[r]),"sm",e(s&&s.true)]))+"</a>\r\n\t\t</li>\r\n\t\t"})}},o});