!function(e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){function l(e,n,t,c,i){return'<div class="subcategory">\n\t'+(t(n&&n.children&&n.children.length)?"<p>[[category:subcategories]]</p>":"")+'\n\n\t<ul class="categories" itemscope itemtype="http://www.schema.org/ItemList">\n\t\t'+l.blocks.children(e,n,t,c,i)+"\n\t</ul>\n</div>"}return l.blocks={children:function(c,i,l,e,s){return e(l(i&&i.children),function(t){return'\n\t\t<li component="categories/category" data-cid="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].cid))+'" data-numRecentReplies="1" class="row clearfix">\n\t<meta itemprop="name" content="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].name))+'">\n\n\t<div class="content col-xs-12 '+(l(i&&i.config&&i.config.hideCategoryLastPost)?"col-md-10 col-sm-12":"col-md-7 col-sm-9")+'">\n\t\t<div class="icon pull-left" style="'+c.__escape(s(i,c,"generateCategoryBackground",[l(i&&i.children&&i.children[t])]))+'">\n\t\t\t<i class="fa fa-fw '+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].icon))+'"></i>\n\t\t</div>\n\n\t\t<h2 class="title">\n\t\t\t'+(l(i&&i.children&&i.children[t]&&i.children[t].isSection)?"\n"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].name))+"\n":"\n"+(l(i&&i.children&&i.children[t]&&i.children[t].link)?'\n<a href="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].link))+'" itemprop="url">\n':'\n<a href="'+c.__escape(l(i&&i.config&&i.config.relative_path))+"/category/"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].slug))+'" itemprop="url">\n')+"\n"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].name))+"\n</a>\n")+"\n\t\t</h2>\n\t\t<div>\n\t\t\t"+(l(i&&i.children&&i.children[t]&&i.children[t].descriptionParsed)?'\n\t\t\t<div class="description">\n\t\t\t\t'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].descriptionParsed))+"\n\t\t\t</div>\n\t\t\t":"")+"\n\t\t\t"+(l(i&&i.config&&i.config.hideSubCategories)?"":"\n\t\t\t"+c.__escape(s(i,c,"generateChildrenCategories",[l(i&&i.children&&i.children[t])]))+"\n\t\t\t")+'\n\t\t</div>\n\t\t<span class="visible-xs pull-right">\n\t\t\t'+(l(i&&i.children&&i.children[t]&&i.children[t].teaser&&i.children[t].teaser.timestampISO)?'\n\t\t\t<a class="permalink" href="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].teaser&&i.children[t].teaser.url))+'">\n\t\t\t\t<small class="timeago" title="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].teaser&&i.children[t].teaser.timestampISO))+'"></small>\n\t\t\t</a>\n\t\t\t':"")+"\n\t\t</span>\n\t</div>\n\n\t"+(l(i&&i.children&&i.children[t]&&i.children[t].link)?"":'\n\t<div class="col-md-1 hidden-sm hidden-xs stats">\n\t\t<span class="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t]["unread-class"]))+' human-readable-number" title="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].totalTopicCount))+'">'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].totalTopicCount))+'</span><br />\n\t\t<small>[[global:topics]]</small>\n\t</div>\n\t<div class="col-md-1 hidden-sm hidden-xs stats">\n\t\t<span class="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t]["unread-class"]))+' human-readable-number" title="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].totalPostCount))+'">'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].totalPostCount))+"</span><br />\n\t\t<small>[[global:posts]]</small>\n\t</div>\n\t"+(l(i&&i.config&&i.config.hideCategoryLastPost)?"":'\n\t<div class="col-md-3 col-sm-3 teaser hidden-xs" component="topic/teaser">\n\t\t<div class="card" style="border-color: '+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].bgColor))+'">\n\t'+e(l(i&&i.children&&i.children[t]&&i.children[t].posts),function(e,n){return"\n\t"+(0===n?'\n\t<div component="category/posts">\n\t\t<p>\n\t\t\t<a href="'+c.__escape(l(i&&i.config&&i.config.relative_path))+"/user/"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].user&&i.children[t].posts[e].user.userslug))+'">'+c.__escape(s(i,c,"buildAvatar",[l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].user),"sm",l(i&&i.true)]))+'</a>\n\t\t\t<a class="permalink" href="'+c.__escape(l(i&&i.config&&i.config.relative_path))+"/topic/"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].topic&&i.children[t].posts[e].topic.slug))+(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].index)?"/"+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].index)):"")+'">\n\t\t\t\t<small class="timeago" title="'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].timestampISO))+'"></small>\n\t\t\t</a>\n\t\t</p>\n\t\t<div class="post-content">\n\t\t\t'+c.__escape(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts[e]&&i.children[t].posts[e].content))+"\n\t\t</div>\n\t</div>\n\t":"")+"\n\t"})+"\n\n\t"+(l(i&&i.children&&i.children[t]&&i.children[t].posts&&i.children[t].posts.length)?"":'\n\t<div component="category/posts">\n\t\t<div class="post-content">\n\t\t\t[[category:no_new_posts]]\n\t\t</div>\n\t</div>\n\t')+"\n</div>\n\n\t</div>\n\t")+"\n\t")+"\n</li>\n\n\t\t"})}},l});